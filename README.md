# XFPenTestPrepDemo
Preparing your Xamarin.Forms App for a Penetration Test...

Here we're focusing on the Network communication layer of your app, that you might need to make sure to configure or provide separate custom builds for PEN Testing process.

Given the specification of your PEN Test, ex: MiTM attack, you need to make sure your Xamarin.Forms app,

- Access to access non-HTTPS
- Access Self-Signed HTTPS endpoints
- Access System Proxy settings

Blog post: https://theconfuzedsourcecode.wordpress.com/2020/01/04/prepping-your-xamarin-forms-app-for-penetration-testing/

<img src="/screenshots/PenTestPrepDemoAndroid.png" height="300"/> <img src="/screenshots/PenTestPrepDemoAndroid.png" height="300"/> <img src="/screenshots/PenTestPrepDemoUWP.png" height="300"/>

Get a free Proxy for testing: <br />
>https://www.proxynova.com/proxy-server-list/

Or set up a local proxy server using:  <br />
>Fiddler: https://www.telerik.com/fiddler <br />
>Charles Proxy: https://www.charlesproxy.com

You need to be able to access these endpoints once all good, <br />
>Self Signed Certificate: <br />
>https://self-signed.badssl.com/

>HTTP (NON-SSL) Connection: <br />
>http://http.badssl.com/

Emulating different scenarios:

<img src="/screenshots/Situation1.png" height="300"/> <img src="/screenshots/Situation2.png" height="300"/> <img src="/screenshots/Situation3.png" height="300"/>
<br /><br />
Here are some resources that helped me: 

- Loading System Proxy Settings:
https://medium.com/@anna.domashych/httpclient-and-proxy-76835c784eab

- Bypass Self-signed SSL Certificate validation:
https://www.midnightcreative.io/coding/ignore-ssl-certificate-errors-in-xamarin-net-core-servercertificatevalidationcallback-is-not-called-anymore-on-android/

- Disable non-SSL validation iOS:
https://nicksnettravels.builttoroam.com/ios-certificate/

- Disable non-SSL validation Android:
https://nicksnettravels.builttoroam.com/android-certificates/

The above resources contains many different kinds of customization for MiTM proxy attacks for PEN testing, such as Custom certificate pinning for testing and so on.
